{"version":3,"sources":["src/state.js","testing.js","src/data.js","src/components/lightbox/index.js","src/components/search/index.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["state","searchTerm","images","currentImage","setState","toSet","newValue","test","message","console","log","testarray","a","table","fetchImages","url","fetch","then","res","json","data","collection","items","catch","error","lightbox","markup","forEach","image","links","href","title","init","Array","from","document","querySelectorAll","addEventListener","openLightBox","event","preventDefault","currentImageIndex","getCurrentImageIndex","target","map","img","outerHTML","findIndex","doSearch","querySelector","value","toLowerCase","length","alert","insertAdjacentHTML","search","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","i","module"],"mappings":"AMAA,ACAA,IDAIwD,ACAAW,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSX,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEhB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;ADCF,ACAC,ALNH,AFAA,GOIE,MDEOlB,SAAP;AACD,AHPD,ACAA,AJCA,ACDe,SAASjD,IAAT,CAAcC,OAAO,GAAG,YAAxB,EAAsC;AMOnD+D,ALNF,AFCA,ACDI9D,EMMF8D,ANNE9D,OMMK,ANNE,CMMDqB,ANNEpB,GAAR,CMMF,ANNcF,GMMC8D,IAAI,ANNjB,CMMkBxC,IAAL,CAAU6C,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEP,AJPF,ACAA,ACEA,ALAA,ACDC,EMMCA,IAAI,CAACQ,EDCEpB,MDNM1B,EEKb,CAAgB+C,CFLlB,ECMA,CDNsB,ECME,MCDtB,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;ADEA,ACDD,AFLG,ALAJ,MAAMhF,KAAK,GAAG;AMOZ,AHTF,ACAA,ACGI,ALAAC,ACDG,EDCHA,IMME,EDNIyB,CJDMf,GDCF,EKAE,ALAA,GKAG,CLDL,ACAP,CAAmB,GAAGC,CAAtB,EAAwB,cIC3B,CAFkB,CAIlB;ACKA,ACDJ,ALX+B,AFM3BV,ACDAO,EDCAP,ACDAO,EMMAwE,IPLM,CCDC,CKOD,ANNE,ACDApE,IKOE8C,ACDA,APPA,CCCV,CAAc/C,CMMD,ANNb,EKOM,EAAN,ACDJ;ADEG,AFTH,AFDe,AGKXuB,ALDAhC,ACDH,EIEGgC,ALDAhC,CMIF,CAEE,KJVoBW,CGKZ,CCKD8C,ADLEX,GCKT,ANNY,EMMA,ANNE,IEJH,AFCD,CAGS,EEJe,CGKlC,CAAuB,MAAvB,EAA+BK,kBAA/B,CAAkD,WAAlD,EAA+D5B,MAA/D,EALkB,CAOlB;ACIA,ACFJ,ALRI,QIUImC,CCFCqB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEGtB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,ALRE,AGMA,ALPU,CAAd,EAOA,GOEMkB,ELRIlE,GAAG,GAAI,EKQf,EAAgB,oCLRsCf,aAAMC,UAAW,mBAArE;AIUA,ACDA,ALPA,AGKH,EAED,MCCQ4D,CJRG7C,KAAK,CIQZ,AJRaD,EIQA,CJRD,CAAL,CACFE,IADE,CACGC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADV,EAEFF,IAFE,CAEGG,IAAI,IAAIA,IAAI,CAACC,UAAL,CAAgBC,KAF3B,EAEkC;AIOvC,ACDH,AJXY,ADGJ,GAGFC,KAHE,CCHaE,ADMTD,IIMFwC,CJNO,GCNL,CDMSvD,ECNW,GGYZ,CAACoD,CJNO,CAACrC,KIMD,AJNP,CIMQ,AJNMA,CIMP,CAAR,CAAjB,EJNkB,CAHb,CAAP;AIUC,AHZD,ADMH,MCNOE,MAAM,GAAI,wBAAd;AGaD,ACDDuD,AFFFjD,ALHA,EOKEiD,EFFE,ELHE7E,MOKM,EPLE,COKC+E,EPLE,CAAC9E,KAAD,EOKQ,APLAC,COKC,OPLT,KOKqB,APLA;AOMlC,AJZAN,AHOAA,EAAAA,KAAK,COKD6B,APLExB,KOKG,APLJ,CAAL,CGPMH,CIYMiC,CPLG7B,IGPf,CAAaqB,EIYO,CAACS,APLrB,IGPA,CAAqBR,KAAK,IAAI,EIYlB,CAA0B,wBAA1B,CAAZ;ADEF,AHbM,ACN8B,AJarC,CAFD,QMQS,CHbKb,EGaZ,CHbe,GAAGa,KAAK,CAACC,KAAN,CAAY,CAAZ,EAAeC,IAA3B;AGcP,ACFG,AJXI,SIWC,CJXKC,GIWDqD,CAAC,CJXK,EIWF,CAAb,AJXkBxD,EIWFwD,CAAC,EJXM,CIWHvD,AJXIT,IAAN,CIWO,AJXI,CIWHgC,AJXR,EAAcrB,IIWhC,CJXI,CIW8BqD,CAAC,EAAnC,EAAuC;AACrC,AJXE1D,ACHR,IDGQA,MIWEyC,AJXI,IAAK,EIWH,CAACH,UAAP,CAAkBnC,KAAK,CAACuD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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["/**\n * This simple state management tool keeps data from being stored \n * in our HTML and makes for much simpler application. \n */\nconst state = {\n    searchTerm: null,\n    images: null,\n    currentImage: null // will be saving the image index from lightbox modal\n}\n\n\n// update the state object with\nconst setState = (toSet, newValue) => {\n    state[toSet] = newValue;\n}\n\nexport { state, setState };","export default function test(message = \"ENTRY HERE\") {\n    console.log(message);\n}\n\nexport function testarray(...a){\n    console.table(a);\n}","import {state} from \"./state\"; // when get an update from doSearch() file will also get an update here. Prevents having to pass around the search term as a parameter from one file to another.\nimport test from \"../testing\";\n\nexport default function fetchImages() {\n    // get search term from state object\n    const url = `https://images-api.nasa.gov/search?q=${state.searchTerm}&media_type=image`;\n\n    return fetch(url)\n        .then(res => res.json())\n        .then(data => data.collection.items) // dont' need all the items of the api, only the collections\n        .catch(error => console.error(error));\n}","import { state, setState } from \"../../state\";\nimport \"./index.css\";\nimport test, { testarray } from \"../../../testing\";\n\nexport default function lightbox() {\n    let markup = `<div class=\"lightbox\">`;\n    state.images.forEach(image => {\n        const url = image.links[0].href;\n        const title = image.data[0].title;\n        markup += `<div class=\"thumbnail\"><img src=\"${url}\" alt=\"${title}\"></div>`;\n    });\n\n    markup += `</div>`;\n    return markup;\n}\n\nexport function init() {\n    // select an image and attach an event listener to it\n    const images = Array.from(document.querySelectorAll(`.lighbox img`));\n    images.forEach(image => {\n        image.addEventListener(`click`, openLightBox);\n    });\n}\n\n/**\n * \n * @param {} event On user clicking the photo\n */\nfunction openLightBox(event) {\n    event.preventDefault();\n\n    // save the value in state\n    const currentImageIndex = getCurrentImageIndex(event.target);\n    setState(`currentImage`, currentImageIndex);\n\n    console.log(state.currentImage);\n}\n\n/**\n * This method will take the image the user clicked on and find the index\n * of the image from the grid of images.\n * @param {} image \n */\nfunction getCurrentImageIndex(image) {\n    const images = Array.from(document.querySelectorAll(`.lightbox img`));\n\n    let currentImageIndex = images\n        .map(img => img.outerHTML)\n        .findIndex(img => img === image.outerHTML);\n\n    return currentImageIndex;\n}","import { state, setState } from \"../../state\";\nimport fetchImages from \"../../data\"; // functions don't need braces\nimport lightbox, {init as initLightbox} from \"../lightbox\";\n\nimport \"./index.css\";\n\n/**\n * This method supports the search button function.\n * @param {*} event On click of search or enter button\n */\nasync function doSearch(event) {\n    // prevent the default submit behavior\n    event.preventDefault();\n\n    // get the value in the search field and make lower case\n    const searchTerm = document.querySelector(`#search-field`).value.toLowerCase();\n    setState(`searchTerm`, searchTerm); // update state object with new search term\n\n    console.log(`The state object search term is: ${state.searchTerm}`);\n\n    const images = await fetchImages();\n    setState('images', images);\n\n    if(state.images.length === 0){\n        alert(`There are no results for \"${state.searchTerm}\"`); // pauses here while alert box is up\n        setState(`searchTerm`, null);\n\n        document.querySelector(`#search-field`).value = state.searchTerm;\n    } else {\n        const markup = lightbox();\n        document.querySelector(`#app`).insertAdjacentHTML(`beforeend`, markup);\n        initLightbox();\n    }\n\n    console.log(state.images);\n}\n\n// default export\nexport default function search() {\n    return `\n    <h1>Search NASA Photos</h1>\n    <form name=\"search\" id=\"search\">\n        <p><label for=\"search-field\">Enter Search Term Below:</label></p>\n        <input id=\"search-field\" name=\"search\" type=\"search\">\n        <input type=\"submit\" id=\"submit\" value=\"Search\">\n    </form>\n    `;\n}\n\n// named export\nexport function init() {\n    const search = document.querySelector('#search');\n    search.addEventListener('submit', doSearch);\n}\n\n\n","import search, {init as initSearch} from \"./components/search/\"\r\nimport \"./index.css\";\r\n\r\nasync function init() {\r\n    // import form and title and set to markup\r\n    const markup = search();\r\n\r\n    // add all markup to main page through 'app' div id\r\n    document.querySelector('#app').insertAdjacentHTML('beforeend', markup);\r\n\r\n    // initialize the search form \r\n    initSearch(); \r\n}\r\n\r\n// call the function above\r\ninit();\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}